{"version":3,"sources":["./src/app/pages/banquedesang/banquedesang.page.html","./src/app/pages/banquedesang/banquedesang.module.ts","./src/app/pages/banquedesang/banquedesang.page.scss","./src/app/pages/banquedesang/banquedesang.page.ts","./src/app/services/banquedesang.service.ts"],"names":[],"mappings":"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","file":"pages-banquedesang-banquedesang-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\n    <ion-toolbar [color]=\\\"networkStatus && networkStatus.connected ?'primary':'danger'\\\">\\n        <ion-back-button slot=\\\"start\\\"></ion-back-button>\\n        <ion-buttons slot=\\\"end\\\" >\\n          <ion-menu-button ><ion-icon name=\\\"more\\\"></ion-icon></ion-menu-button>\\n        </ion-buttons>\\n        <ion-title >{{title}}</ion-title>\\n      </ion-toolbar>\\n      <ion-toolbar color=\\\"primary\\\" *ngIf=\\\"networkStatus && networkStatus.connected == true\\\">\\n            <ion-button color=\\\"danger\\\" shape=\\\"round\\\" slot=\\\"start\\\" (click)=\\\"creerHopital()\\\" *ngIf=\\\"buttonPlus==0\\\">\\n              <ion-icon name=\\\"add\\\"></ion-icon>\\n            </ion-button>\\n            <ion-button color=\\\"danger\\\" shape=\\\"round\\\" slot=\\\"start\\\" (click)=\\\"retour()\\\" *ngIf=\\\"buttonPlus==1\\\">\\n                 <ion-icon name=\\\"arrow-round-back\\\"></ion-icon>\\n            </ion-button>\\n        </ion-toolbar>\\n</ion-header>\\n<ion-content>\\n<div  *ngIf=\\\"networkStatus && networkStatus.connected == true\\\">\\n  <div *ngIf=\\\"listHopitaux==0\\\">\\n    <ion-segment [(ngModel)]='selectedView'>\\n      <ion-segment-button value='proche' (click)=\\\" afficherHopP()\\\">\\n        <ion-label>Proche de moi</ion-label>\\n      </ion-segment-button>\\n      <ion-segment-button value='Autres'>\\n          <ion-label>Autres</ion-label>\\n      </ion-segment-button>\\n    </ion-segment>\\n    <div [ngSwitch]=\\\"selectedView\\\" >\\n        <div *ngSwitchCase=\\\"'proche'\\\">\\n            <ion-card *ngFor=\\\"let banque of banqueSangsP\\\">\\n                <ion-card-header>\\n                    <ion-card-title>\\n                      {{banque.nom}}\\n                    </ion-card-title>\\n               </ion-card-header>\\n\\n               <ion-card-content>\\n                 <ion-item>\\n                    {{banque.adresse}}\\n                 </ion-item>\\n                 <ion-item>\\n                    Appeler\\n                      <div  slot=\\\"end\\\">\\n                          <ion-button color=\\\"success\\\" (click)=\\\"appelleR(banque.telephone)\\\">\\n                              <ion-icon slot=\\\"end\\\" name=\\\"call\\\"></ion-icon>\\n                          </ion-button>\\n                      </div>\\n                  </ion-item>\\n               </ion-card-content>\\n             </ion-card>\\n          <ion-infinite-scroll threshold=\\\"100px\\\" (ionInfinite)=\\\"loadData($event)\\\">\\n            <ion-infinite-scroll-content\\n                    loadingSpinner=\\\"bubbles\\\"\\n                    loadingText=\\\"Chargement...\\\">\\n            </ion-infinite-scroll-content>\\n          </ion-infinite-scroll>\\n        </div>\\n        <div *ngSwitchCase=\\\"'Autres'\\\">\\n            <ion-toolbar color=\\\"secondary\\\">\\n                <ion-grid>\\n                    <ion-row>\\n                      <ion-col size=\\\"9\\\" size-sm>\\n                          <ion-searchbar animated=\\\"true\\\" [(ngModel)]=\\\"kw\\\"  showCancelButton placeholder=\\\"Ville\\\"></ion-searchbar>\\n                      </ion-col>\\n                      <ion-col size=\\\"3\\\" size-sm>\\n                          <ion-button shape=\\\"round\\\"  (click)=\\\"afficherHop(kw)\\\"><ion-icon name=\\\"search\\\"></ion-icon></ion-button>\\n                      </ion-col>\\n                    </ion-row>\\n                  </ion-grid>\\n                </ion-toolbar>\\n          <ion-card *ngFor=\\\"let banque of banqueSangs\\\" >\\n            <ion-card-header>\\n                <ion-card-title>\\n                  {{banque.nom}}\\n                </ion-card-title>\\n           </ion-card-header>\\n\\n           <ion-card-content>\\n             <ion-item>\\n                {{banque.adresse}}\\n             </ion-item>\\n             <ion-item>\\n                Appeler\\n                  <div  slot=\\\"end\\\">\\n                      <ion-button color=\\\"success\\\" (click)=\\\"appelleR(banque.telephone)\\\">\\n                          <ion-icon slot=\\\"end\\\" name=\\\"call\\\"></ion-icon>\\n                      </ion-button>\\n                  </div>\\n              </ion-item>\\n           </ion-card-content>\\n         </ion-card>\\n         <ion-infinite-scroll threshold=\\\"100px\\\" (ionInfinite)=\\\"loadData($event)\\\">\\n            <ion-infinite-scroll-content\\n                    loadingSpinner=\\\"bubbles\\\"\\n                    loadingText=\\\"Chargement...\\\">\\n            </ion-infinite-scroll-content>\\n          </ion-infinite-scroll>\\n        </div>\\n    </div>\\n  </div>\\n  <div *ngIf=\\\"listHopitaux==1\\\">\\n       <ion-item>\\n          <ion-label position=\\\"floating\\\" >Nom:</ion-label>\\n          <ion-input type=\\\"text\\\" [(ngModel)]=\\\"bs.nom\\\" ></ion-input>\\n        </ion-item>\\n        <ion-item>\\n          <ion-label position=\\\"floating\\\" >Téléphone:</ion-label>\\n          <ion-input type=\\\"text\\\" [(ngModel)]=\\\"bs.telephone\\\" ></ion-input>\\n        </ion-item>\\n        <ion-item>\\n          <ion-label position=\\\"floating\\\" >Adresse :</ion-label>\\n          <ion-textarea [(ngModel)]=\\\"bs.adresse\\\" ></ion-textarea>\\n        </ion-item>\\n    <ion-button expand=\\\"block\\\" fill=\\\"outline\\\"(click)=\\\"enregistrer(bs)\\\">Enregistrer</ion-button>\\n  </div>\\n</div>\\n<div *ngIf=\\\"networkStatus && networkStatus.connected == false\\\" >\\n  <ion-card *ngFor=\\\"let banque of banqueSangsP\\\">\\n      <ion-card-header>\\n          <ion-card-title>\\n            {{banque.nom}}\\n          </ion-card-title>\\n     </ion-card-header>\\n\\n     <ion-card-content>\\n       <ion-item>\\n          {{banque.adresse}}\\n       </ion-item>\\n       <ion-item>\\n          Appeler\\n            <div  slot=\\\"end\\\">\\n                <ion-button color=\\\"success\\\" (click)=\\\"appelleR(banque.telephone)\\\">\\n                    <ion-icon slot=\\\"end\\\" name=\\\"call\\\"></ion-icon>\\n                </ion-button>\\n            </div>\\n        </ion-item>\\n     </ion-card-content>\\n   </ion-card>\\n</div>\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { BanquedesangPage } from './banquedesang.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: BanquedesangPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [BanquedesangPage]\n})\nexport class BanquedesangPageModule {}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2JhbnF1ZWRlc2FuZy9iYW5xdWVkZXNhbmcucGFnZS5zY3NzIn0= */\"","import { BanquedesangService } from './../../services/banquedesang.service';\nimport { BanquedeSangModel } from './../../models/banquedesang.model';\nimport { CallNumber } from '@ionic-native/call-number/ngx';\nimport { ToastController } from '@ionic/angular';\nimport { Geolocation } from '@ionic-native/geolocation/ngx';\nimport { Component, OnInit } from '@angular/core';\nimport {NavigationExtras, Router} from \"@angular/router\";\nimport { NativeGeocoder, NativeGeocoderResult, NativeGeocoderOptions } from '@ionic-native/native-geocoder/ngx';\nimport {Plugins,NetworkStatus,PluginListenerHandle} from \"@capacitor/core\";\nconst {Network} = Plugins;\n\n@Component({\n  selector: 'app-banquedesang',\n  templateUrl: './banquedesang.page.html',\n  styleUrls: ['./banquedesang.page.scss'],\n})\nexport class BanquedesangPage implements OnInit {\n\n  public nom:string;\n  public listHopitaux: number = 0;\n  public buttonPlus: number = 0;\n  public title: string = 'Banque de sang';\n  public bs: BanquedeSangModel;\n  public kw:string=\"\";\n  public banqueSangs;\n  public banqueSangsP;\n  public localite:string=\"\";\n  networkListener: PluginListenerHandle;\n  networkStatus:NetworkStatus;\n  constructor(private router:Router,private bsservice:BanquedesangService,public geolocation:Geolocation,\n  private toastctrl:ToastController,private geocoder:NativeGeocoder,private callNumber: CallNumber) {\n    this.bs = {} as BanquedeSangModel;\n   }\n\nasync  ngOnInit() {\n\n  this.networkListener= Network.addListener('networkStatusChange',status =>{\n    console.log(\"network status change\",status);\n    this.networkStatus = status;\n   });\n\n   this.networkStatus = await Network.getStatus();\n   if(this.networkStatus.connected == false){\n    this.banqueSangsP=[\n      {nom:'Banque de sang Hopital saint Joseph ',telephone:'+243854878767',ville:'Kinshasa',adresse:'14 ème rue Limete residentiel',localite:'Limete'}\n    ]\n   }else if(this.networkStatus.connected == true){\n      this.afficherHopP();\n   }\n  }\n  afficherHopP(){\n    this.geolocation.getCurrentPosition().then((position) => {\n      let latitude= position.coords.latitude;\n      let longitude= position.coords.longitude;\n      var options:NativeGeocoderOptions={\n        useLocale:true,\n        maxResults:1\n      };\n      this.geocoder.reverseGeocode(latitude,longitude,options).\n     then((results)=>{\n        var localite = results[0].subLocality;\n        this.bsservice.getbsP(localite)\n      .subscribe(data=>{\n        this.banqueSangsP = data;\n      },err=>{\n        console.log(err)\n      })\n     });\n     }).catch((error) => {\n       console.log('Erreur pour la localisation probleme internet', error);\n     });\n  }\n  afficherHop(kw){\n    this.bsservice.getbs(kw)\n      .subscribe(data=>{\n        this.banqueSangs = data;\n      },err=>{\n        console.log(err)\n      })\n  }\n  creerHopital() {\n    this.listHopitaux=1;\n    this.buttonPlus=1;\n    this.title='Création BS';\n  }\n  retour(){\n    this.listHopitaux=0;\n    this.buttonPlus=0;\n    this.title='Banque de sang';\n  }\n  loadData(event) {\n    setTimeout(() => {\n        console.log('Done');\n        event.target.complete();\n\n        // App logic to determine if all data is loaded\n        // and disable the infinite scroll\n        if (this.banqueSangs.length == 1000) {\n            event.target.disabled = true;\n        }\n    }, 500);\n}\nasync enregistrer(bs:BanquedeSangModel) {\n  console.log(bs);\n    this.geolocation.getCurrentPosition().then((position) => {\n      bs.latitude= position.coords.latitude;\n      bs.longitude= position.coords.longitude;\n      var options:NativeGeocoderOptions={\n        useLocale:true,\n        maxResults:1\n      }\n       this.geocoder.reverseGeocode(bs.latitude,bs.longitude,options).\n       then((results)=>{\n          bs.localite = results[0].subLocality;\n          bs.ville = results[0].administrativeArea;\n          this.bsservice.enregistrerMed(bs)\n      .subscribe(res=>{\n        this.bs=res;\n        console.log(bs);\n        this.retour();\n      this.retour();\n      });\n       });\n     }).catch((error) => {\n       console.log('Erreur pour la localisation probleme internet', error);\n     });\n}\nappelleR(telephone: string) {\n  console.log(telephone);\n  this.callNumber.callNumber(telephone, true)\n      .then(res => console.log('Launched dialer!', res))\n      .catch(err => console.log('Error launching dialer', err));\n}\n}\n","import { Observable } from 'rxjs';\nimport { BanquedeSangModel } from './../models/banquedesang.model';\nimport { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class BanquedesangService {\n  public host:string=\"http://41.242.128.107:780\";\n  constructor(private httpclient:HttpClient) {\n    \n   }\n   getbs(kw:string):Observable<BanquedeSangModel>{\n      return this.httpclient.get<BanquedeSangModel>(this.host+\"/banque?kw=\"+kw);\n   }\n   getbsP(kw:string):Observable<BanquedeSangModel>{\n    return this.httpclient.get<BanquedeSangModel>(this.host+\"/banquep?kw=\"+kw);\n }\nenregistrerMed(bs:BanquedeSangModel):Observable<BanquedeSangModel>{\n    return this.httpclient.post<BanquedeSangModel>(this.host+\"/banque\",bs);\n  }\n}\n"],"sourceRoot":""}